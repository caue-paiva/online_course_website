{% extends "base.html" %}

{% block title %}
  <title>Search Courses</title>
{% endblock %}

{% block content %}
  <div class="container">
    <div class="row">
      <h5 class="display-5">Search for Courses</h5>
    </div>

    <div class="row my-3">
      <!-- Search Form -->
      <form method="GET">
        <div class="mb-3">
          <label for="search" class="form-label">Search by Course Name</label>
          <input type="text" id="search" name="query" class="form-control" placeholder="Enter course name" value="{{ query }}">
        </div>
        <button type="submit" class="btn btn-primary">Search</button>
      </form>
    </div>

    <div class="row mt-5">
      <h6 class="text-muted">Search Results:</h6>
      {% if courses %}
        <ul class="list-group">
          {% for course in courses %}
            <li class="list-group-item">
              <strong>{{ course.nome }} | {{ course.professor }}</strong>
              <br>
              {{ course.descricao }}
              <h6 class="mt-2">MÃ³dulos:</h6>
              {% if course.modulos.all %}
                <ul>
                  {% for module in course.modulos.all %}
                    <li>{{ module.nome }}</li>
                  {% endfor %}
                </ul>
              {% else %}
                <p>No modules available.</p>
              {% endif %}
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p>No courses found.</p>
      {% endif %}
    </div>
  </div>
{% endblock %}
